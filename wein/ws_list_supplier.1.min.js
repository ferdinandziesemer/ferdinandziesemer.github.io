var ws_sup_requestarray=new Array();var Widgets_baseurl="http://www.wine-searcher.com/widgets";function ws_sup_addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){if(oldonload){oldonload();}
func();}}}
function ws_sup_createrequest(divid,winename,vintage,location,state,currency,Xshow,isIP,wnFont,wnSize,linkFont,linkSize,prFont,prSize,numOfSup,lkWeight,lkStyle,lkColor_f,prWeight,prStyle,prColor_f,wnWeight,wnStyle,wnColor_f){var divid;var onerequest=new Array();onerequest[0]=divid;onerequest[1]=winename;onerequest[2]=vintage;onerequest[3]=wnFont;onerequest[4]=wnSize;onerequest[5]=linkFont;onerequest[6]=linkSize;onerequest[7]=prFont;onerequest[8]=prSize;onerequest[9]=numOfSup;onerequest[10]=lkWeight;onerequest[11]=lkStyle;onerequest[12]=lkColor_f;onerequest[13]=prWeight;onerequest[14]=prStyle;onerequest[15]=wnWeight;onerequest[16]=wnStyle;onerequest[17]=wnColor_f;onerequest[18]=prColor_f;ws_sup_requestarray.push(onerequest);ws_sup_sendrequest(divid,winename,vintage,location,state,currency,Xshow,isIP,numOfSup);}
function ws_sup_sendrequest(divid,winename,vintage,location,state,currency,Xshow,isIP,numOfSup){ws_sup_addLoadEvent(function(){ws_sup_append(divid,winename,vintage,location,state,currency,Xshow,isIP,numOfSup)});}
function ws_sup_append(divid,winename,vintage,location,state,currency,Xshow,isIP,numOfSup){var url=Widgets_baseurl;var winename_es=encodeURI(winename)
url+="/list-supplier/ws_list_supplier.php?mod=Json&winename="+winename_es+"&vintage="+vintage+"&location="+location+"&state="+state+"&cy="+currency+"&Xshow="+Xshow+"&isIP="+isIP+"&listNum="+numOfSup+"&divid="+divid
this.scriptObj=document.createElement("script");this.scriptObj.setAttribute("type","text/javascript");this.scriptObj.setAttribute("charset","iso-8859-1");this.scriptObj.setAttribute("src",url);document.body.appendChild(this.scriptObj);}
function ws_sup_showData(data){var winename;var vintage;var wnFont;var wnSize;var linkFont;var linkSize;var prFont;var prSize;var numOfSup;var lkWeight;var lkStyle;var lkColor_f;var prWeight;var prStyle;var wnWeight;var wnStyle;var wnColor_f;var prColor_f;var divid;var thisid;var thisspan;divid=data.divid;var number=data.number;var stringlong=0;var mer=new Array();mer=data.vin;var onerequest=new Array();var i;for(i=0;i<ws_sup_requestarray.length;i++){if(ws_sup_requestarray[i][0]==divid){onerequest=ws_sup_requestarray[i]
winename=onerequest[1];vintage=onerequest[2];wnFont=onerequest[3];wnSize=onerequest[4];linkFont=onerequest[5];linkSize=onerequest[6];prFont=onerequest[7];prSize=onerequest[8];numOfSup=onerequest[9];lkWeight=onerequest[10];lkStyle=onerequest[11];lkColor_f=onerequest[12];prWeight=onerequest[13];prStyle=onerequest[14];wnWeight=onerequest[15];wnStyle=onerequest[16];wnColor_f=onerequest[17];prColor_f=onerequest[18];break;}}
thisspan='<table>'
if(number=="000"){thisspan='<tr><td>Non found</td></tr>';}
else{for(i=0;i<mer.length;i++)
{try{merchant=mer[i].merchant
merchant=merchant.replace(/\"/g,"&quot;");link=mer[i].link;price=mer[i].price;if(link!='')
{thisspan+='<tr><td><div  style="float:left;padding-right:10px;font-family:'+linkFont+';font-size:'+linkSize+';font-Style:'+lkStyle+';font-weight:'+lkWeight+';color:'+lkColor_f+';">'+'<a style="color:'+lkColor_f+';"'+'href="'+link+'" title="Buy this wine at '+merchant+'" target="_media">'+merchant+'</a>'+' </div><div  style="color:'+prColor_f+';float:right;font-family:'+prFont+';font-Style:'+prStyle+';font-weight:'+prWeight+';font-size:'+prSize+';">'+price+' </div></td></tr>';}
else{thisspan+='<tr><td><div  style="float:left;padding-right:10px;font-family:'+linkFont+';font-size:'+linkSize+';font-Style:'+lkStyle+';font-weight:'+lkWeight+';color:'+lkColor_f+';">'+'<span style="color:'+lkColor_f+';">'+merchant+'</span>'+' </div><div  style="color:'+prColor_f+';float:right;font-family:'+prFont+';font-Style:'+prStyle+';font-weight:'+prWeight+';font-size:'+prSize+';">'+price+' </div></td></tr>';}}catch(err){break;}}
thisspan+='</table>';}
document.getElementById(divid).innerHTML=thisspan;}